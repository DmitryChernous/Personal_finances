# Надёжные способы получения списка транзакций

Парсинг PDF-выписок ненадёжен: формат и порядок строк зависят от банка и от того, как извлекается текст (OCR). Это тормозит развитие проекта. Ниже — альтернативы, которые дают **структурированные данные** и работают стабильно.

---

## 1. CSV / Excel из личного кабинета банка (рекомендуется)

**Почему надёжно:** колонки и разделители фиксированы, нет OCR, импорт уже реализован в проекте.

| Банк           | CSV/Excel в ЛК | Как получить |
|----------------|----------------|-------------|
| **Сбербанк**   | ✅ Да          | Сбербанк Онлайн → Счёт → Выписка за период → выбрать формат **CSV** или **Excel** → скачать. |
| **Т‑Банк (Тинькофф)** | ❌ Нет CSV/Excel | Выписка только PDF или 1С (TXT). Вариант: конвертер PDF→CSV (см. ниже) или ручной экспорт. |
| **Яндекс Банк** | Уточнять в приложении | В приложении/ЛК проверить: «Документы» / «Выписка» — есть ли выгрузка в CSV/Excel. |

**В проекте:** импорт CSV с маппингом колонок уже есть. Достаточно выгрузить из банка и загрузить файл.

---

## 2. Конвертация PDF → CSV (если банк даёт только PDF)

Если банк отдаёт только PDF:

- **Онлайн-сервисы:** например, [Easy Bank Convert](https://www.easybankconvert.com/ru) и аналоги — загружаете PDF, получаете CSV/Excel, затем импортируете через наш CSV-импорт.
- **Ручное копирование:** открыть PDF, скопировать таблицу в Excel, сохранить как CSV и импортировать.

Плюс: один раз конвертация, дальше работа идёт с CSV и не зависит от парсера PDF в проекте.

---

## 3. API банков (когда есть и нужна автоматизация)

Некоторые банки дают доступ к операциям по API:

- **Сбербанк:** [Sber API](https://developers.sber.ru/) — выписки, операции по счёту (для разработчиков/интеграций).
- **Т‑Банк:** [Tinkoff Invest API](https://tinkoff.github.io/investAPI/) — в первую очередь брокерские счета; по картам/счёту — смотреть актуальную документацию на tbank.ru.
- **Яндекс:** публичного банковского API по операциям в открытом доступе нет.

Для личного учёта в Google Sheets обычно достаточно выгрузки CSV/Excel из ЛК; API имеет смысл, если хочется полностью автоматизировать загрузку без ручного скачивания файлов.

---

## 4. Что делать с PDF-импортом в проекте

- **Оставить как есть:** PDF-импорт можно считать **вспомогательным** и не тратить время на доводку парсеров под каждый банк.
- **В интерфейсе:** явно рекомендовать «для лучшего результата — выгрузите выписку в CSV/Excel в личном кабинете банка и загрузите сюда».
- **Новые банки:** не добавлять новые PDF-парсеры без веской необходимости; приоритет — инструкции по выгрузке в CSV и доработка CSV-импорта (маппинг, форматы дат).

---

## Рекомендация по приоритетам

1. **Основной путь:** выписка в CSV/Excel из приложения или ЛК банка → импорт через текущий CSV-импорт.
2. **Если только PDF:** конвертация PDF→CSV сторонним сервисом или вручную → импорт CSV.
3. **PDF-импорт в приложении:** использовать по желанию, но не полагаться на него как на основной способ; не блокировать из-за него остальной прогресс по проекту.

Так можно получать список транзакций надёжно и не зависеть от хрупкого парсинга PDF.
